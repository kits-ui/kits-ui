import{f as M,o as u,c as m,g as S,n as B,h as H,i as g,j as ne,k as R,b as c,F as N,l as q,t as D,m as U,v as oe,d as Y,p as T,q as A,s as V,w as W,r as _,a as I,T as K,u as Z,x as de,y as O,z as ce,A as ie,B as le,C as pe,D as me,E as ve,G as se,H as ee,I as fe}from"../app.f261c319.js";const he=["disabled"];var ye=M({__name:"index",props:{color:{type:String,default:"#2bc0ac"},type:{type:String,default:"default"},direction:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:o}){const n=e,a=()=>{let s="default";return n.type==="insert"&&(s=`insert ${n.direction}`),typeof n.disabled=="boolean"&&n.disabled&&(s+=" is-disabled"),s},l=()=>{o("click")};return(s,t)=>(u(),m("button",{class:B(["k-button font-semibold",a()]),disabled:n.disabled,style:H({backgroundColor:n.color}),onClick:l},[S(s.$slots,"default")],14,he))}});const ge={class:"k-filter-box"},xe={class:"top"},be=c("div",{class:"left"},"筛选>",-1),ke={class:"center"},we=["onClick"],Le={class:"dialog"},Ce=["title"],$e={class:"right"},Ie=c("span",null,"折叠",-1),Ee=[Ie],Se={key:0},Me=c("div",{style:{border:"none","border-top":"1px solid #ebeef5"}},null,-1),_e=[Me],Ne={key:1,class:"k-filter-content"},Te={class:"row-key"},Oe=["title","onClick"],je={class:"btn"},ze=["onClick"],Be={key:0,class:"row-btn"},We=["onClick"],De=["onClick"],Ae=["onClick"];var Ve=M({__name:"index",props:{isClean:{type:Boolean,default:!1},filterData:{type:Array,default:()=>[]}},emits:["onSelectData"],setup(e,{emit:o}){const n=e,a=g([]),l=g(),s=g(null),t=ne({currentList:[],currentType:!1,isOpenList:[],openIndex:null,multipleIndex:"",selectList:[],selectLi:[],navList:[],filterBoxData:[]});R(()=>{i()});const i=async()=>{await r();const d=[];for(let f=0;f<a.value.length;f++)a.value[f].clientHeight>85&&d.push(f);t.isOpenList=d},r=()=>{t.filterBoxData=n.filterData},h=(d,f)=>{t.multipleIndex=f;const v=t.navList.filter(y=>y.id===d.id);v.length>0?t.selectList=v[0].selectedList.map(y=>y.id):t.selectList=[],t.currentList=[...t.selectLi],p(f)},x=d=>{for(let f=0;f<l.value.length;f++)f!==d&&l.value[f].classList.contains("openRow")&&l.value[f].classList.remove("openRow");l.value[d].classList.add("openRow"),t.openIndex=d,p(d)},E=d=>{l.value[d].classList.remove("openRow"),t.openIndex=null},p=d=>{A(()=>{s.value[d].scrollTop=0})},w=()=>{t.selectLi=[...t.currentList],t.selectList=[],t.multipleIndex=""},k=async(d,f)=>{await b(f),await C(d,0)},b=d=>{t.selectList.includes(d)?(t.selectList=t.selectList.filter(f=>f!==d),t.selectLi=t.selectLi.filter(f=>f!==d)):(t.selectLi.push(d),t.selectList.push(d))},L=(d,f)=>{if(t.selectList.length===0)return;const v={id:d.id,name:d.name,selectedList:[]};t.selectList.map($=>{d.childList.filter(F=>{$===F.id&&v.selectedList.push(F)})});let y=null;if(t.navList.filter(($,F)=>{if($.id===d.id)return y=F,$}).length>0){f===0?t.navList[y].selectedList.push(...v.selectedList):t.navList[y].selectedList=v.selectedList;const $=Array.from(new Set(t.navList[y].selectedList));t.navList[y].selectedList=$}else t.navList.push(v);t.selectList=[]},C=(d,f)=>{L(d,f),t.multipleIndex="",j()},j=()=>{const d={};t.navList.map(f=>{const v=f.selectedList.map(y=>y.id).join(",");d[f.name]=v}),o("onSelectData",d)},z=()=>{t.currentType=!t.currentType},P=d=>{const f=[];t.navList=t.navList.filter(v=>v.id!==d.id),t.navList.map(v=>{v.selectedList.map(y=>{f.push(y.id)})}),t.selectLi=f,A(()=>{j()})};return(d,f)=>(u(),m("div",ge,[c("section",xe,[be,c("div",ke,[c("div",null,[(u(!0),m(N,null,q(t.navList,v=>(u(),m("div",{key:v.id,class:"navlist"},[c("div",{class:"closeNav",onClick:y=>P(v)},null,8,we),c("div",Le,[c("ul",null,[(u(!0),m(N,null,q(v.selectedList,y=>(u(),m("li",{key:y.id,title:y.title},D(y.name),9,Ce))),128))])]),c("span",null,D(v.name),1)]))),128))])]),c("div",$e,[c("button",{class:B(t.currentType?"btnFold":"btnOpen"),onClick:z},Ee,2)])]),t.currentType?(u(),m("section",Se,_e)):(u(),m("section",Ne,[(u(!0),m(N,null,q(t.filterBoxData,(v,y)=>U((u(),m("div",{key:v.name,class:"line"},[c("div",{class:B(["row",t.multipleIndex===y?"multiple":""])},[c("div",Te,D(v.name),1),c("div",{ref_for:!0,ref_key:"rowValue",ref:l,class:"row-value"},[c("div",{ref_for:!0,ref_key:"rowList",ref:s,class:"list"},[c("ul",{ref_for:!0,ref_key:"rowValueList",ref:a,class:"rowValueList"},[(u(!0),m(N,null,q(v.childList,$=>(u(),m("li",{key:$.id,title:$.title,class:B(t.selectLi.includes($.id)?"clickSelected":""),onClick:F=>t.multipleIndex===y?b($.id):k(v,$.id)},[c("i",{class:B(t.selectList.includes($.id)===!0?"selected":"")},null,2),Y(" "+D($.name),1)],10,Oe))),128))],512),c("div",je,[c("button",{class:B(t.selectList.length!==0?"showBtn":"confirm"),onClick:$=>C(v,null)}," 确 定 ",10,ze),c("button",{class:"cancel",onClick:w},"取 消")])],512)],512),v.childList.length>0?(u(),m("div",Be,[t.isOpenList.includes(y)?(u(),m(N,{key:0},[t.openIndex!==y?(u(),m("button",{key:0,class:"open",onClick:$=>x(y)},"展 开",8,We)):(u(),m("button",{key:1,class:"folded",onClick:$=>E(y)},"收 起",8,De))],64)):T("",!0),c("button",{onClick:$=>h(v,y)},"多 选",8,Ae)])):T("",!0)],2)])),[[oe,v.childList.length>0]])),128))]))]))}}),Re={name:"KAuthCode",props:{height:{default:36,type:[Number]},width:{default:90,type:[Number]},count:{default:4,type:Number},codes:{default:()=>[],type:Array}},emits:["input","update:code"],data(){return{}},computed:{value:{get(){return this.$attrs.value},set(e){this.$emit("update:code",e)}}},mounted(){this.createCodeHandle()},methods:{createCodeHandle(){this.value=this.createCode(this.count)},createCode(e=4){const o=this.codes,n=()=>{const p=Math.floor(Math.random()*256),w=Math.floor(Math.random()*256),k=Math.floor(Math.random()*256);return"rgb("+p+","+w+","+k+")"},a=this.$refs.authCode,{width:l,height:s}=a.getBoundingClientRect(),t=l,i=s,r=a.getContext("2d");a.width=t,a.height=i;const h="a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(","),x=h.length;let E="";for(let p=0;p<e;p++){let w="";if(o.length)w=o[p];else{const C=Math.floor(Math.random()*x);w=h[C]}const k=Math.random()-.5;E+=w;const b=10+p*20,L=20+Math.random()*8;r.font="bold 23px 微软雅黑",r.translate(b,L),r.rotate(k),r.fillStyle=n(),r.fillText(w,0,0),r.rotate(-k),r.translate(-b,-L)}for(let p=0;p<=5;p++)r.strokeStyle=n(),r.beginPath(),r.moveTo(Math.random()*t,Math.random()*i),r.lineTo(Math.random()*t,Math.random()*i),r.stroke();for(let p=0;p<=30;p++){r.strokeStyle=n(),r.beginPath();const w=Math.random()*t,k=Math.random()*i;r.moveTo(w,k),r.lineTo(w+1,k+1),r.stroke()}return E}}},Q=(e,o)=>{const n=e.__vccOpts||e;for(const[a,l]of o)n[a]=l;return n};const He={ref:"authCode",class:"k-authcode__content"};function Pe(e,o,n,a,l,s){return u(),m("div",{class:"k-authcode",style:H({height:n.height+"px",width:n.width+"px"}),onClick:o[0]||(o[0]=(...t)=>s.createCodeHandle&&s.createCodeHandle(...t))},[c("canvas",He,null,512)],4)}var Fe=Q(Re,[["render",Pe]]),qe=M({__name:"index",props:{dir:{type:String,default:"auto"},lang:{type:String,default:""},body:{type:String,default:"你好，我是跳了两年半的坤坤，请多指教"},tag:{type:[String,Number],default:new Date().getTime()},icon:{type:String,default:"https://suantaichaorou.top/logo.png"}},setup(e){const o=e;R(()=>{window.Notification?(console.log(Notification.permission),Notification.permission=="granted"?console.log("允许通知"):Notification.permission!="denied"&&(console.log("需要通知权限"),Notification.requestPermission(a=>{console.log(a)}))):console.error("浏览器不支持Notification")});function n(a){if(Notification.permission=="granted"){let l=new Notification("收到一条新消息",{dir:a.dir,lang:a.lang,body:a.body,tag:"Data.tag",icon:a.icon,renotify:!0});l.onclick=function(){A(()=>{setTimeout(()=>{},500)}),window.focus(),l.close()},console.log("浏览器通知！")}else Notification.permission=="denied"?alert("您禁止了通知功能"):console.log("声音通知！")}return(a,l)=>{const s=_("k-button");return u(),m("div",{onClick:l[0]||(l[0]=t=>n(o))},[a.$slots.default?S(a.$slots,"default",{key:0}):(u(),V(s,{key:1,type:"insert"},{default:W(()=>[Y("默认按钮")]),_:1}))])}}});const Ye={class:"k-image"},Ke=["src"],Ge={class:"k-image-bar"},Xe=["src"];var Je=M({__name:"index",props:{src:{type:String,default:""},fit:{type:String,default:""},preview:{type:Array,default:()=>[]}},setup(e){const o=e,n=g(!1),a=g(""),l=g(0),s=g(),t=g(),i=g(1),r=g(0);R(()=>{a.value=o.preview[0],l.value=0,o.preview.length!==0&&s.value.addEventListener("wheel",k=>{k.preventDefault(),i.value+=k.deltaY*-1e-4,i.value<=.2?i.value=.2:i.value>=2&&(i.value=2),i.value=Math.min(Math.max(.2,i.value),4),t.value.style.transform=`scale(${i.value}) rotate(${r.value}deg)`,t.value.style.transition="all 0.3s"},{capture:!0,passive:!1})});const h=()=>{i.value=1,r.value=0,t.value.style.transform=`scale(${i.value})`,n.value=!1,document.body.style.overflowY="overlay"},x=k=>{i.value=1,r.value=0,t.value.style.transform=`scale(${i.value})`,t.value.style.transition="none",o.preview.length>1?k==="prev"?l.value===0?l.value=o.preview.length-1:l.value-=1:l.value===o.preview.length-1?l.value=0:l.value+=1:l.value=0,a.value=o.preview[l.value]},E=k=>{console.log();const b=Number(i.value.toFixed(1));k==="reduce"?b<=.2?i.value=.2:i.value-=.1:b>=2?i.value=2:i.value+=.1,t.value.style.transform=`scale(${i.value}) rotate(${r.value}deg)`,t.value.style.transition="all 0.3s"},p=k=>{k==="left"?r.value-=90:r.value+=90,t.value.style.transform=`scale(${i.value}) rotate(${r.value}deg)`,t.value.style.transition="all 0.3s"},w=()=>{if(o.preview&&o.preview.length!==0)n.value=!0,l.value=o.preview.indexOf(o.src),a.value=o.src,document.body.style.overflowY="hidden";else return};return(k,b)=>{const L=_("shut"),C=_("arrowleft"),j=_("arrowright"),z=_("narrow"),P=_("enlarge"),d=_("undo"),f=_("redo");return u(),m("div",Ye,[c("img",{src:o.src,alt:"",style:H({cursor:o.preview&&o.preview.length===0?"auto":"pointer","--k-image-fit":o.fit}),onClick:w},null,12,Ke),o.preview.length!==0?(u(),V(K,{key:0,to:"body"},[U(c("div",{ref_key:"uImagePreview",ref:s,class:"k-image-preview"},[c("span",{class:"k-image-preview-close",onClick:h},[I(L)]),c("span",{class:"k-image-preview-prev",onClick:b[0]||(b[0]=v=>x("prev"))},[I(C)]),c("span",{class:"k-image-preview-next",onClick:b[1]||(b[1]=v=>x("next"))},[I(j)]),c("div",Ge,[I(z,{onClick:b[2]||(b[2]=v=>E("reduce"))}),I(P,{onClick:b[3]||(b[3]=v=>E("amplify"))}),I(d,{onClick:b[4]||(b[4]=v=>p("left"))}),I(f,{onClick:b[5]||(b[5]=v=>p("right"))})]),c("img",{ref_key:"previewImg",ref:t,src:a.value,alt:"",class:"preview-content"},null,8,Xe)],512),[[oe,n.value]])])):T("",!0)])}}});const J=(e,o)=>{let n="";for(const a in o)n+=`${a}: ${o[a]};`;e.setAttribute("style",n)};var Ue=M({__name:"index",props:{name:{type:String,default:"k-watermark"},width:{type:String,default:"100vw"},height:{type:String,default:"100vh"},options:{type:Object,default:()=>({})}},setup(e){const o=e,n=g(),a=g();R(()=>{const s=Object.assign({waterMarkText:"kits-ui",textColor:"black",textWidth:"150",textHeight:"100",opacity:.5,rotate:"-30deg"},o.options),t=n.value.parentNode;l(s);const i={attributes:!0,childList:!0,subtree:!0},r=new MutationObserver(async h=>{for(let x of h)x.type==="childList"?(console.log("有子元素被删除了."),r.disconnect(),t.appendChild(n.value),n.value.appendChild(a.value),r.observe(n.value.parentNode,i)):x.type==="attributes"&&(r.disconnect(),l(s),r.observe(n.value,i),console.log("水印样式已重置...."))});r.observe(n.value.parentNode,i)});const l=s=>{J(a.value,{background:`url('data:image/svg+xml;utf8,<svg  xmlns="http://www.w3.org/2000/svg" version="1.1" width="${s.textWidth}" height="${s.textHeight}" stroke="${s.textColor}"><text x="20" y="20" >${s.waterMarkText}</text> </svg>')`,opacity:s.opacity,rotate:s.rotate,width:"400vw",height:"400vh",position:"absolute",top:"50%",left:"50%",translate:"-50% -50%","pointer-events":"none"}),J(n.value,{width:o.width,height:o.height,position:"absolute","z-index":5,inset:0,margin:"auto",overflow:"hidden","pointer-events":"none"})};return(s,t)=>(u(),m("div",{ref_key:"kWatermark",ref:n,class:"k-watermark"},[c("div",{ref_key:"watermarkText",ref:a,class:"watermarkText"},null,512)],512))}});const Ze=I("svg",{class:"loading-rotate",xmlns:"http://www.w3.org/2000/svg",style:"margin: auto;display: block;shape-rendering: auto;",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},[I("circle",{cx:"50",cy:"50",r:"32","stroke-width":"8",stroke:"currentColor","stroke-dasharray":"50.26548245743669 50.26548245743669",fill:"none","stroke-linecap":"round"},null)]);function Qe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!de(e)}const et=(e,o)=>{const n=O(e.type,e.props,o),{children:a,shapeFlag:l,...s}=e;return Object.assign(n,s),n},tt=(e,o)=>{const n=o(),a=n[0],l=a.children;if(a.props||(a.props={}),a.props.class=((a.props.class||"")+" "+re).trim(),typeof l=="string"){const s=[O(ce,l),O(e)];return[et(a,s),...n.slice(1)]}return Array.isArray(l)&&l.push(O(e)),n},ae="k-loading",re=`${ae}_ref`,X={background:"rgba(0, 0, 0, 0.38)",text:"loading...",zIndex:100};function G(e,o){const{slots:n,emit:a}=o,l=g(e.modelValue),s=n.default,t=()=>{[void 0,!1].includes(e.closeOnClick)||(l.value=!1,a("update:modelValue",l.value))},i=I(Z,{name:"loading",appear:!0,mode:"out-in",onLeave:()=>a("leave")},{default:()=>{var r,h;return[l.value&&I("div",{class:`${ae} ${e.customClass||""}`,onClick:t,style:{background:e.background??X.background,zIndex:e.zIndex??X.zIndex}},[I("div",{class:"loading-box"},[I("div",{class:"loading-icon"},[((r=n.icon)==null?void 0:r.call(n))??Ze]),I("div",{class:"loading-text"},[((h=n.text)==null?void 0:h.call(n))??e.text??X.text])])])]}});return s?!e.mode||e.mode==="insert"?tt(i,s):I("div",{class:re},[s(),i]):I(K,{to:"body"},Qe(i)?i:{default:()=>[i]})}G.props=["modelValue","closeOnClick","text","customClass","background","mode"];G.inheritAttrs=!0;G.emits=["update:modelValue","leave"];var nt=M({name:"Vue3Menus",props:{options:{type:[Function,Object],default:()=>({})}},render(){return typeof this.$props.options=="function"?O(this.$props.options):typeof this.$props.options.node=="function"||typeof this.$props.options.node=="object"?O(this.$props.options.node,this.$props.options.option):typeof this.$props.options=="object"&&!this.$props.options.node?O(this.$props.options):null}}),ot=M({name:"menus-item",components:{MenusIcon:nt},props:{menusItemClass:{type:String,default:null},hasIcon:{type:Boolean,default:!1},item:{type:Object,default:()=>({})},index:{type:Number,default:0},activeIndex:{type:Number,default:-1}},setup(e,{emit:o,slots:n}){function a(s,t){o("menusEnter",s,t,e.index),s.preventDefault()}function l(s,t){if(s.preventDefault(),t.disabled){s.stopPropagation();return}if(t&&!t.disabled&&!t.hidden&&typeof t.click=="function"){const i=t.click(t);(i===!1||i===null)&&s.stopPropagation()}}return{slots:n,menusEnter:a,menusClick:l}}});const it={key:0,class:"menus-item-icon"},lt=["innerHTML"],st={class:"menus-item-label"},at={class:"menus-item-suffix"},rt={key:3,class:"menus-item-tip"};function ut(e,o,n,a,l,s){const t=_("MenusIcon");return e.slots.default?(u(),m("div",{key:0,onMouseenter:o[0]||(o[0]=i=>e.menusEnter(i,e.item)),onClick:o[1]||(o[1]=i=>e.menusClick(i,e.item)),onContextmenu:o[2]||(o[2]=i=>e.menusClick(i,e.item))},[S(e.$slots,"default",{item:{activeIndex:e.activeIndex,item:e.item}})],32)):(u(),m("div",{key:1,onMouseenter:o[3]||(o[3]=i=>e.menusEnter(i,e.item)),onClick:o[4]||(o[4]=i=>e.menusClick(i,e.item)),onContextmenu:o[5]||(o[5]=i=>e.menusClick(i,e.item)),style:H(e.item.style?e.item.style:{}),class:B(["menus-item",e.item.disabled?"menus-item-disabled":"menus-item-available",e.item.divided?"menus-divided":null,!e.item.disabled&&e.activeIndex===e.index?"menus-item-active":null,e.menusItemClass])},[e.hasIcon?(u(),m("div",it,[e.slots.icon?S(e.$slots,"icon",{key:0,item:{activeIndex:e.activeIndex,item:e.item}}):e.item.icon?(u(),m(N,{key:1},[typeof e.item.icon=="string"?(u(),m("span",{key:0,innerHTML:e.item.icon},null,8,lt)):(u(),V(t,{key:1,options:e.item.icon},null,8,["options"]))],64)):T("",!0)])):T("",!0),c("span",st,[e.slots.label?S(e.$slots,"label",{key:0,item:{activeIndex:e.activeIndex,item:e.item}}):(u(),m(N,{key:1},[Y(D(e.item.label),1)],64))]),c("div",at,[e.item.children&&e.slots.suffix?S(e.$slots,"suffix",{key:0,item:{activeIndex:e.activeIndex,item:e.item}}):e.item.children?(u(),m(N,{key:1},[Y("▶")],64)):e.item.tip&&e.slots.suffix?S(e.$slots,"suffix",{key:2,item:{activeIndex:e.activeIndex,item:e.item}}):e.item.tip?(u(),m("span",rt,D(e.item.tip),1)):T("",!0)])],38))}var dt=Q(ot,[["render",ut]]),ct=M({name:"menus",components:{MenusItem:dt},computed:{getStyleObject(){return{...this.menusStyle,top:`${this.style.top}px`,left:`${this.style.left}px`,minWidth:this.style.minWidth,maxWidth:this.style.maxWidth,zIndex:this.style.zIndex}}},props:{menus:{type:Array,required:!0},menusStyle:{type:Object,default:()=>({})},menusItemClass:{type:String,default:null},event:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})},minWidth:{type:[Number,String],default:"none"},maxWidth:{type:[Number,String],default:"none"},zIndex:{type:[Number,String],default:3},direction:{type:String,default:"right"},open:{type:Boolean,default:!1}},setup(e,{slots:o}){const n={},a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,s=e.position.x&&e.position.y?g(e.position):g({x:e.event.clientX,y:e.event.clientY,width:0,height:0}),t=g(null),i=g({left:0,top:0,minWidth:`${e.minWidth}px`,maxWidth:e.maxWidth=="none"?e.maxWidth:`${e.maxWidth}px`,zIndex:e.zIndex}),r=g(e.direction),h=g(-1),x=g(e.open),E=g(!1);function p(L){i.value.left=s.value.x-L,r.value="left",i.value.left<0&&(r.value="right",s.value.width===0||s.value.width===void 0?i.value.left=0:i.value.left=s.valuen.x+s.value.width)}function w(L,C){i.value.left=s.value.x+s.value.width,r.value="right",i.value.left+C>L&&(r.value="left",s.value.width===0||s.value.width===void 0?i.value.left=L-C:i.value.left=s.value.x-C)}R(()=>{x.value=!0,e.menus.forEach(L=>{E.value=E.value||L.icon!==void 0,E.value}),A(()=>{const L=t.value.offsetWidth,C=t.value.offsetHeight;r.value==="left"?p(L):w(a,L),i.value.top=s.value.y,s.value.y+C>l&&(s.value.height===0||s.value.height===void 0?i.value.top=s.value.y-C:i.value.top=l-C)})});function k(L,C,j){if(h.value=j,C.disabled)return;if(n.instance){if(n.index===j)return;n.instance.close.bind(n.instance)(),n.instance=null,n.index=null}if(!C.children)return;const z=L.target.getBoundingClientRect(),P=O(ue,{...e,menus:C.children||[],direction:r.value,position:{x:z.x+3,y:z.y-8,width:z.width-2*3,height:z.width}},o),d=ie(P);n.instance=d.mount(document.createElement("div")),n.instance.$unmount=d.unmount,n.index=j,L.preventDefault()}function b(){x.value=!1,this&&this.ctx&&this.ctx.instance&&this.ctx.instance.close(),A(()=>{this.$unmount()&&this.$unmount()})}return{open_:x,hasIcon:E,menusRef:t,style:i,close:b,menusEnter:k,ctx:n,activeIndex:h,slots:o}}});const pt={class:"menus_body"};function mt(e,o,n,a,l,s){const t=_("MenusItem");return u(),V(K,{to:"body"},[I(Z,{name:"menus-fade"},{default:W(()=>[e.open_?(u(),m("div",{key:0,ref:"menusRef",class:"menus",style:H(e.getStyleObject),onContextmenu:o[0]||(o[0]=i=>i.preventDefault()),onMousewheel:o[1]||(o[1]=le(()=>{},["stop"]))},[c("div",pt,[(u(!0),m(N,null,q(e.menus,(i,r)=>(u(),m(N,{key:r},[i.hidden?T("",!0):(u(),V(t,{key:0,item:i,index:r,activeIndex:e.activeIndex,onMenusEnter:e.menusEnter,menusItemClass:e.menusItemClass,hasIcon:e.hasIcon},pe({_:2},[e.slots.default?{name:"default",fn:W(({item:h})=>[S(e.$slots,"default",{item:h})]),key:"0"}:void 0,!e.slots.default&&e.slots.icon?{name:"icon",fn:W(({item:h})=>[S(e.$slots,"icon",{item:h})]),key:"1"}:void 0,!e.slots.default&&e.slots.label?{name:"label",fn:W(({item:h})=>[S(e.$slots,"label",{item:h})]),key:"2"}:void 0,!e.slots.default&&e.slots.suffix?{name:"suffix",fn:W(({item:h})=>[S(e.$slots,"suffix",{item:h})]),key:"3"}:void 0]),1032,["item","index","activeIndex","onMenusEnter","menusItemClass","hasIcon"]))],64))),128))])],36)):T("",!0)]),_:3})])}var ue=Q(ct,[["render",mt]]),vt=M({name:"Vue3Menus",props:{menus:{type:Array,default:()=>[]},menusStyle:{type:Object,default:()=>({})},menusItemClass:{type:String,default:null},event:{type:Object,default:()=>({})},position:{type:Object,default:()=>({})},minWidth:{type:[Number,String],default:"none"},maxWidth:{type:[Number,String],default:"none"},zIndex:{type:[Number,String],default:2},open:{type:Boolean,default:!1}},setup(e,{emit:o,slots:n}){let a;function l(){o("update:open",!1),a&&(a.close(),a=null)}return me(()=>e.open,s=>{if(s){a&&(a.close(),a=null);const t=O(ue,{...e},n),i=ie(t);a=i.mount(document.createElement("div")),a.$unmount=i.unmount,setTimeout(()=>{document.addEventListener("click",l),document.addEventListener("contextmenu",l),document.addEventListener("wheel",l)},0)}else document.removeEventListener("click",l),document.removeEventListener("contextmenu",l),document.removeEventListener("wheel",l)}),{}},render(){return null}}),ft=({mountedCallFun:e})=>M({props:["vnode"],setup(){},mounted(){e(this.$el)},render(o){return o.vnode}}),ht=M({__name:"index",props:{content:{type:String,default:""}},setup(e){const o=e,n=ve(),a=n.default&&n.default()[0],l=g(),s=g(),t=g({}),i=ft({mountedCallFun:p=>{s.value=p},updatedCallFun:p=>{console.log(p)},unmountedCallFun:p=>{console.log(p)}});R(async()=>{window.addEventListener("mouseover",r),window.addEventListener("mousemove",h),window.addEventListener("scroll",x)}),se(()=>{window.removeEventListener("mouseover",r),window.removeEventListener("mousemove",h),window.removeEventListener("scroll",x)});const r=p=>{p.target===s.value&&E()},h=p=>{l.value&&(p.target===s.value||p.target===l.value?l.value.style.opacity=1:l.value.style.opacity=0)},x=()=>{l.value&&(l.value.style.opacity=0)},E=()=>{l.value=document.createElement("div"),l.value.className="tooltip-content",l.value.innerHTML=`${o.content}`,document.body.contains(document.querySelector(".tooltip-content"))&&document.body.removeChild(document.querySelector(".tooltip-content")),document.body.append(l.value),s.value.classList.add("k-tooltip"),t.value=s.value.getBoundingClientRect(),A(()=>{const p=l.value.offsetWidth,w=l.value.offsetHeight;J(l.value,{top:`${t.value.top-w-10}px`,left:`${t.value.left-(p/2-t.value.width/2)}px`}),console.log(t.value.top,t.value.top-w-10)})};return(p,w)=>(u(),V(ee(i),{vnode:ee(a)},null,8,["vnode"]))}});const yt={class:"k-popover"},gt=c("div",{class:"popover__arrow"},null,-1);var xt=M({__name:"index",props:{trigger:{type:String,default:"click"},theme:{type:String,default:"dark"},title:{type:String,default:""}},setup(e){const o=e,n=ne({showPopup:!1,top:80,left:0}),a=g(),l=g();R(()=>{console.log({props:o}),document.addEventListener("click",s,!1),window.addEventListener("scroll",s,!0),window.addEventListener("resize",s,!0)}),se(()=>{document.removeEventListener("scroll",s),window.removeEventListener("click",s),window.removeEventListener("resize",s)});const s=()=>{n.showPopup=!1},t=()=>{n.showPopup=!0,console.log(n.showPopup),A(()=>{const i=l.value.getBoundingClientRect(),r=a.value.getBoundingClientRect(),h=r.y-i.height-10;let x=r.x+r.width/2-i.width/2;const E=window.innerWidth;x>E-i.width&&(x=E-i.width),x<0&&(x=0),n.top=h,n.left=x})};return(i,r)=>{const h=fe("longpress");return u(),m("div",yt,[(u(),V(K,{to:"body"},[I(Z,{name:"out-in"},{default:W(()=>[n.showPopup?(u(),m("div",{key:0,class:B(["k-popover-popup",e.theme==="light"?"light":""]),style:H({top:n.top+"px",left:n.left+"px"})},[c("div",{ref_key:"popupContent",ref:l,class:"popup-content"},[S(i.$slots,"default",{},()=>[c("span",null,D(e.title),1)]),gt],512)],6)):T("",!0)]),_:3})])),U((u(),m("div",{ref_key:"reference",ref:a,class:"popover-reference",onClick:r[0]||(r[0]=le(()=>e.trigger==="click"&&t(),["stop"])),onMouseenter:r[1]||(r[1]=()=>e.trigger==="hover"&&t()),onMouseleave:r[2]||(r[2]=x=>e.trigger==="hover"&&(n.showPopup=!1))},[S(i.$slots,"reference")],32)),[[h,t]])])}}}),bt={Button:ye,FilterBox:Ve,AuthCode:Fe,Notification:qe,Image:Je,Watermark:Ue,Loading:G,ContextMenu:vt,Tooltip:ht,Popover:xt};const kt={created(e,{value:o}){e.$value=o,e.handler=()=>{if(!e.$value){console.log("无复制内容");return}const n=document.createElement("textarea");n.readOnly=!0,n.style.position="absolute",n.style.left="-9999px",n.value=e.$value,document.body.appendChild(n),n.select(),document.execCommand("Copy")&&console.log("复制成功"),document.body.removeChild(n)},e.addEventListener("click",e.handler)},updated(e,{value:o}){e.$value=o},unmounted(e){e.removeEventListener("click",e.handler)}},wt={created:function(e,o){if(typeof o.value!="function")throw new Error("callback must be a function");let n=null;const a=t=>{t.type==="click"&&t.button!==0||n===null&&(n=setTimeout(()=>{s(t)},1200))},l=()=>{n!==null&&(clearTimeout(n),n=null)},s=t=>{o.value(t)};e.addEventListener("mousedown",a),e.addEventListener("touchstart",a),e.addEventListener("click",l),e.addEventListener("mouseout",l),e.addEventListener("touchend",l),e.addEventListener("touchcancel",l)},updated(e,{value:o}){e.$value=o},unmounted(e){e.removeEventListener("click",e.handler)}},Lt={mounted:function(e,o){let n;e.addEventListener(o.arg,a=>{clearTimeout(n),n=setTimeout(o.value,300,a)})}},te={copy:kt,longpress:wt,debounce:Lt};(function(){try{var e=document.createElement("style");e.appendChild(document.createTextNode(`.tooltip-content{opacity:0;position:fixed;width:auto;height:auto;background:rgb(26,26,26);color:#fff;padding:5px 8px;box-sizing:border-box;border-radius:5px;filter:drop-shadow(0px 0px 2px #747474);transition:opacity .3s;cursor:pointer;user-select:none;font-size:12px}.tooltip-content:before{position:absolute;left:0;right:0;bottom:-15px;margin:auto;content:"";width:12px;height:12px;border:8px solid transparent;border-top-color:#1a1a1a;z-index:1;box-sizing:border-box}.tooltip-content:hover{opacity:1}
.menus-item{display:flex;line-height:2rem;padding:0 1rem;margin:0;font-size:.8rem;outline:0;align-items:center;transition:.2s;box-sizing:border-box;list-style:none;border-bottom:1px solid #00000000}.menus-item-divided{border-bottom-color:#ebeef5}.menus-item .menus-item-icon{display:flex;margin-right:.6rem;width:1rem}.menus-item .menus-item-label{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.menus-item .menus-item-suffix{margin-left:1.5rem;font-size:.39rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.menus-item-available{color:#606266;cursor:pointer}.menus-item-available:hover{background:#ecf5ff;color:#409eff}.menus-item-disabled{color:#c0c4cc;cursor:not-allowed}.menus-item-active{background:#ecf5ff;color:#409eff}.menus-item-tip{font-size:9px;color:#999}`)),document.head.appendChild(e)}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();const Ct="K";var It={install(e){for(const[o,n]of Object.entries(bt))e.component(`${Ct}${o}`,n);Object.keys(te).forEach(o=>{e.directive(o,te[o])})}};export{It as default};
